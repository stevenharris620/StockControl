@namespace StockControl.Components

<EditForm Model="_model" OnValidSubmit="LoginUserAsync">

	<DataAnnotationsValidator />

	<MudCard>
		<MudCardHeader>
			<MudText Typo="Typo.h6">Welcome to Stock v0.5</MudText>
		</MudCardHeader>

		<MudCardContent>

			<ValidationSummary />

			@if (!string.IsNullOrWhiteSpace(_errorMessage))
			{
				<MudAlert Severity="Severity.Error" Variant="Variant.Filled" Class="my-2">@_errorMessage</MudAlert>
			}

			<MudTextField Label="Email" HelperText="required" @bind-Value="@_model.Email" />
			<MudTextField Label="Password" InputType="InputType.Password" HelperText="required" @bind-Value="@_model.Password" />
		</MudCardContent>

		<MudCardActions>
			<MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="mr-1" Disabled="_isBusy">Login</MudButton>
			<MudButton Variant="Variant.Outlined" Color="Color.Secondary" Disabled="_isBusy" OnClick="RedirectToRegister">Create Account</MudButton>
		</MudCardActions>
	</MudCard>

</EditForm>

