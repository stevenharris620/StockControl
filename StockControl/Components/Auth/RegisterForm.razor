@namespace StockControl.Components

<EditForm Model="_model" OnValidSubmit="RegisterUserAsync">

	<DataAnnotationsValidator />

	<MudCard>
		<MudCardHeader>
			<CardHeaderContent>
				<MudText Typo="Typo.h6">Welcome to Grader v1.0</MudText>
				<MudText Typo="Typo.body2">Create a new account</MudText>
			</CardHeaderContent>
		</MudCardHeader>

		<MudCardContent>

			<ValidationSummary />

			@if (!string.IsNullOrWhiteSpace(_errorMessage))
			{
				<MudAlert Severity="Severity.Error" Variant="Variant.Filled" Class="my-2">@_errorMessage</MudAlert>
			}
			<MudTextField Label="First Name" HelperText="required" @bind-Value="@_model.FirstName" />
			<MudTextField Label="Last Name" HelperText="required" @bind-Value="@_model.LastName" />
			<MudTextField Label="Email" HelperText="required" @bind-Value="@_model.Email" />
			<MudTextField Label="Password" InputType="InputType.Password" HelperText="required" @bind-Value="@_model.Password" />
			<MudTextField Label="Confirm Password" InputType="InputType.Password" HelperText="required" @bind-Value="@_model.ConfirmPassword" />
		</MudCardContent>

		<MudCardActions>
			<MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="mr-1" Disabled="_isBusy">Create Account</MudButton>
			<MudButton Variant="Variant.Outlined" Color="Color.Secondary" Disabled="_isBusy" OnClick="RedirectToLogin">Login</MudButton>
		</MudCardActions>
	</MudCard>

</EditForm>
